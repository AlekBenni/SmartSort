

const initState:InitStateType = {
    shop: [
        {rating: 264, price: {old: 4324, new: 3799}, category: 'Motorola',
        name: 'Motorola MOTO G4 (XT1622) Black', img: "https://superg.ru/wp-content/uploads/2019/11/P1460054.jpg"},
        {rating: 6, price: {old: 4833, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO E6I', img: "https://www.modlabs.net/uploads/gallery/news/Moto_E6_Plus_02.jpg"},
        {rating: 24, price: {old: 4033, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO G POWER', img: "https://helpix.ru/motorola/moto_g_power_2021/pic/02_p00.jpg"},
        {rating: 26, price: {old: 43301, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO E7 PLUS', img: "https://china-phone.info/wp-content/uploads/2020/10/1601555520_obzor-motorola-moto-e7-plus.jpg"},       
        {rating: 264, price: {old: 4324, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO G9 PLUS', img: "https://click-or-die.ru/wp-content/uploads/2021/01/moto.jpg"},
        {rating: 6, price: {old: 4833, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA ONE 5G', img: "https://andro-news.com/images/news/3_57.jpg"},
        {rating: 24, price: {old: 4033, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO G9 (INDIA)', img: "https://itbusiness.com.ua/wp-content/uploads/2020/09/motorola-predstavlyaet-moto-g9-play-v-evrope-s-akkumulyatorom-5000.jpg"},
        {rating: 26, price: {old: 43301, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO G FAST', img: "https://phandroid.com/wp-content/uploads/2020/07/moto-g-fast-11.jpg"},
        {rating: 264, price: {old: 4324, new: 3799}, category: 'Motorola',
        name: 'Motorola MOTO G4 (XT1622) Black', img: "https://superg.ru/wp-content/uploads/2019/11/P1460054.jpg"},
        {rating: 6, price: {old: 4833, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO E6I', img: "https://www.modlabs.net/uploads/gallery/news/Moto_E6_Plus_02.jpg"},
        {rating: 24, price: {old: 4033, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO G POWER', img: "https://helpix.ru/motorola/moto_g_power_2021/pic/02_p00.jpg"},
        {rating: 26, price: {old: 43301, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO E7 PLUS', img: "https://china-phone.info/wp-content/uploads/2020/10/1601555520_obzor-motorola-moto-e7-plus.jpg"},       
        {rating: 264, price: {old: 4324, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO G9 PLUS', img: "https://click-or-die.ru/wp-content/uploads/2021/01/moto.jpg"},
        {rating: 6, price: {old: 4833, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA ONE 5G', img: "https://andro-news.com/images/news/3_57.jpg"},
        {rating: 24, price: {old: 4033, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO G9 (INDIA)', img: "https://itbusiness.com.ua/wp-content/uploads/2020/09/motorola-predstavlyaet-moto-g9-play-v-evrope-s-akkumulyatorom-5000.jpg"},
        {rating: 26, price: {old: 43301, new: 3799}, category: 'Motorola',
        name: 'MOTOROLA MOTO G FAST', img: "https://phandroid.com/wp-content/uploads/2020/07/moto-g-fast-11.jpg"},
        

        {rating: 14, price: {old: 5733, new: 3799}, category: 'Samsung',
        name: 'Samsung Galaxy A32 SM-A325F/DS 64Gb+4Gb Dual LTE Black (РСТ)', img: "https://gsm-store.ru/upload/medialibrary/2fa/2fa9cf7227e60751f5e3bc39cacb8922.jpg"},
        {rating: 64, price: {old: 4313, new: 3799}, category: 'Samsung',
        name: 'Samsung Galaxy S10', img: "https://www.ixbt.com/img/n1/news/2019/2/3/samsung-galaxy-s10-hoyle-17_large_large.jpg"},
        {rating: 54, price: {old: 4333, new: 3799}, category: 'Samsung',
        name: 'Samsung Galaxy A71', img: "https://mobiltelefon.ru/photo/may20/11/obzor_samsung_galaxy_a71_overprajsnutyj_serednak_picture2_0_resize.jpg"},
        {rating: 14, price: {old: 5733, new: 3799}, category: 'Samsung',
        name: 'Samsung Galaxy A32 SM-A325F/DS 64Gb+4Gb Dual LTE Black (РСТ)', img: "https://gsm-store.ru/upload/medialibrary/2fa/2fa9cf7227e60751f5e3bc39cacb8922.jpg"},
        {rating: 64, price: {old: 4313, new: 3799}, category: 'Samsung',
        name: 'Samsung Galaxy M21', img: "https://www.dgl.ru/FileStorage/DOCUMENTS_ILLUSTRATIONS/13231161/original.jpg"},
        {rating: 54, price: {old: 4333, new: 3799}, category: 'Samsung',
        name: 'Samsung Galaxy S20 FE', img: "https://mobile-review.com/articles/2020/image/galaxy-s20-fe/pic/08.jpg"},
        {rating: 64, price: {old: 4313, new: 3799}, category: 'Samsung',
        name: 'Samsung Galaxy M21', img: "https://www.dgl.ru/FileStorage/DOCUMENTS_ILLUSTRATIONS/13231161/original.jpg"},
        {rating: 54, price: {old: 4333, new: 3799}, category: 'Samsung',
        name: 'Samsung Galaxy S20 FE', img: "https://mobile-review.com/articles/2020/image/galaxy-s20-fe/pic/08.jpg"},


        {rating: 74, price: {old: 1333, new: 3799}, category: 'iPhone',
        name: 'Apple iPhone Xr', img: "https://padoff.net/images/cms/data/foto_tovarov/iphone/iphone-xr/white/iphone-xr-white-11.jpg"},
        {rating: 23, price: {old: 7333, new: 3799}, category: 'iPhone',
        name: 'Apple iPhone 11', img: "https://mobile-review.com/articles/2020/image/10-reasons-iphone-12-pro/pic/3.jpg"},
        {rating: 21, price: {old: 4933, new: 3799}, category: 'iPhone',
        name: 'Apple iPhone 8', img: "https://m.re-store.ru/upload/medialibrary/8a8/8a843bd3f4d01c171d34d0193831580b.jpg"},
        {rating: 74, price: {old: 1333, new: 3799}, category: 'iPhone',
        name: 'Apple iPhone Xr', img: "https://padoff.net/images/cms/data/foto_tovarov/iphone/iphone-xr/white/iphone-xr-white-11.jpg"},
        {rating: 23, price: {old: 7333, new: 3799}, category: 'iPhone',
        name: 'Apple iPhone 11', img: "https://mobile-review.com/articles/2020/image/10-reasons-iphone-12-pro/pic/3.jpg"},
        {rating: 21, price: {old: 4933, new: 3799}, category: 'iPhone',
        name: 'Apple iPhone 8', img: "https://m.re-store.ru/upload/medialibrary/8a8/8a843bd3f4d01c171d34d0193831580b.jpg"},
        {rating: 23, price: {old: 7333, new: 3799}, category: 'iPhone',
        name: 'Apple iPhone 11', img: "https://mobile-review.com/articles/2020/image/10-reasons-iphone-12-pro/pic/3.jpg"},
        {rating: 21, price: {old: 4933, new: 3799}, category: 'iPhone',
        name: 'Apple iPhone 8', img: "https://m.re-store.ru/upload/medialibrary/8a8/8a843bd3f4d01c171d34d0193831580b.jpg"},


        {rating: 84, price: {old: 4833, new: 3799}, category: 'Huawei',
        name: 'Huawei Honor 10X Lite', img: "https://mobile-review.com/review/image/honor/10x-lite/pic/0.jpg"},
        {rating: 274, price: {old: 433, new: 3799}, category: 'Huawei',
        name: 'Huawei P40 Lite', img: "https://www.notebookcheck-ru.com/uploads/tx_nbc2/huawei-p40-lite.jpg"},
        {rating: 84, price: {old: 4833, new: 3799}, category: 'Huawei',
        name: 'Huawei Nova 5T', img: "https://htstatic.imgsmail.ru/pic_image/92e9967e45c10c246eeeb0469371385b/450/450/1675850/"},
        {rating: 274, price: {old: 433, new: 3799}, category: 'Huawei',
        name: 'Huawei Honor 20', img: "https://catcase.ru//images/img_products/full_carbon-fibre-silikonovyj-matovyj-bamper-chehol-dlya-huawei-honor-20-01.jpg"},
        {rating: 84, price: {old: 4833, new: 3799}, category: 'Huawei',
        name: 'Huawei Honor 10X Lite', img: "https://mobile-review.com/review/image/honor/10x-lite/pic/0.jpg"},
        {rating: 274, price: {old: 433, new: 3799}, category: 'Huawei',
        name: 'Huawei P40 Lite', img: "https://www.notebookcheck-ru.com/uploads/tx_nbc2/huawei-p40-lite.jpg"},
        {rating: 84, price: {old: 4833, new: 3799}, category: 'Huawei',
        name: 'Huawei Nova 5T', img: "https://htstatic.imgsmail.ru/pic_image/92e9967e45c10c246eeeb0469371385b/450/450/1675850/"},
        {rating: 274, price: {old: 433, new: 3799}, category: 'Huawei',
        name: 'Huawei Honor 20', img: "https://catcase.ru//images/img_products/full_carbon-fibre-silikonovyj-matovyj-bamper-chehol-dlya-huawei-honor-20-01.jpg"},       
    
    ],
    isLoading: true,
    setCategory: 'Все товары',
    categoryArray: [{name:'Все товары'}, {name:'Motorola'}, {name:'Samsung'}, {name:'iPhone'}, {name:'Huawei'}],
    setPageNumber: 1,
    currentPage: 1
}

type InitStateType = {
    shop: Array<ShopType>
    isLoading: boolean
    setCategory: string
    categoryArray: Array<categoryType>
    setPageNumber: number
    currentPage: number
}

type categoryType = {
    name: string
    index?: number
}

export type ShopType = {
    rating: number
    price: PriceType
    category: string
    name: string
    img: string
}

type PriceType = {
    old: number
    new: number
}

type ActionType = SetCategoryType & SortRatingType & SetPageNumberType & SetCurrentPageType

export const shopReducer = (state: InitStateType = initState, action: ActionType) => {
    switch(action.type){
        case 'SET_CATEGORY':{
            return {...state, setCategory: action.val}
        }
        case 'SORT':{
            return {
                ...state,
                shop: state.shop.sort((a, b) => a.rating > b.rating ? 1 : -1)
            }}
        case 'SET_PAGE':{
            return {...state, setPageNumber: action.page}
        }    
        case 'SET_CURRENT_PAGE':{
            return {...state, currentPage : action.pageNumber}
        }
        default: return state
    }
}

export const setCategoryAC = (val:string) => ({type: 'SET_CATEGORY', val})
type SetCategoryType = ReturnType<typeof setCategoryAC >

export const sortRatingAC = () => ({type: 'SORT'})
type SortRatingType = ReturnType<typeof sortRatingAC>

export const setPageNumberAC = (page:number) => ({type: 'SET_PAGE', page})
type SetPageNumberType = ReturnType<typeof setPageNumberAC>

export const setCurrentPageAC = (pageNumber:number) => ({type: 'SET_CURRENT_PAGE', pageNumber})
type SetCurrentPageType = ReturnType<typeof setCurrentPageAC>
